<nav style="background: white; padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <!-- Left Navigation -->
            <div style="display: flex; gap: 20px; align-items: center;">
                <a href="{% url 'dashboard' %}" style="display: flex; align-items: center; gap: 10px; text-decoration: none; color: #333; font-weight: 600;">
                    <span style="font-size: 1.2em;">ğŸš²</span>
                    <span>BridgeDash</span>
                </a>
                
                {% if user.is_authenticated %}
                    {% if user.role == 'customer' %}
                    <a href="{% url 'customer_dashboard' %}" style="text-decoration: none; color: #666; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;">
                        ğŸ“¦ My Deliveries
                    </a>
                    <a href="{% url 'new_delivery' %}" style="text-decoration: none; color: #666; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;">
                        ğŸš€ New Delivery
                    </a>
                    {% elif user.role == 'driver' %}
                    <a href="{% url 'driver_dashboard' %}" style="text-decoration: none; color: #666; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;">
                        ğŸš´ Driver Dashboard
                    </a>
                    <a href="{% url 'driver_earnings' %}" style="text-decoration: none; color: #666; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;">
                        ğŸ’° Earnings
                    </a>
                    {% elif user.role == 'admin' %}
                    <a href="{% url 'admin_dashboard' %}" style="text-decoration: none; color: #666; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;">
                        âš™ï¸ Admin Dashboard
                    </a>
                    <a href="/admin/" style="text-decoration: none; color: #666; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;">
                        ğŸ› ï¸ Django Admin
                    </a>
                    {% endif %}
                {% endif %}
            </div>
            
            <!-- Right Navigation -->
            <div style="display: flex; gap: 15px; align-items: center;">
                {% if user.is_authenticated %}
                    <!-- Notifications -->
                    <a href="{% url 'notifications_list' %}" style="position: relative; text-decoration: none; color: #666; padding: 8px 12px; border-radius: 50%; transition: all 0.3s ease;">
                        ğŸ””
                        {% with unread_count=user.notification_set.filter.is_read=False.count %}
                            {% if unread_count > 0 %}
                            <span style="position: absolute; top: -5px; right: -5px; background: #dc3545; color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 0.7em; display: flex; align-items: center; justify-content: center;">
                                {{ unread_count }}
                            </span>
                            {% endif %}
                        {% endwith %}
                    </a>
                    
                    <!-- User Menu -->
                    <div style="position: relative; display: inline-block;">
                        <button style="background: none; border: none; cursor: pointer; display: flex; align-items: center; gap: 8px; color: #333; padding: 8px 15px; border-radius: 20px; transition: all 0.3s ease;">
                            <span>ğŸ‘¤ {{ user.username }}</span>
                            <span>â–¼</span>
                        </button>
                        
                        <div style="position: absolute; top: 100%; right: 0; background: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); padding: 10px 0; min-width: 150px; display: none; z-index: 1000;">
                            <a href="{% url 'profile' %}" style="display: block; padding: 10px 15px; text-decoration: none; color: #333; transition: background 0.3s ease;">
                                ğŸ‘¤ Profile
                            </a>
                            <a href="{% url 'notifications_list' %}" style="display: block; padding: 10px 15px; text-decoration: none; color: #333; transition: background 0.3s ease;">
                                ğŸ”” Notifications
                            </a>
                            <div style="border-top: 1px solid #e1e5e9; margin: 5px 0;"></div>
                            <a href="{% url 'logout' %}" style="display: block; padding: 10px 15px; text-decoration: none; color: #dc3545; transition: background 0.3s ease;">
                                ğŸšª Logout
                            </a>
                        </div>
                    </div>
                {% else %}
                    <a href="{% url 'login' %}" style="text-decoration: none; color: #4facfe; padding: 8px 15px; border: 2px solid #4facfe; border-radius: 20px; transition: all 0.3s ease;">
                        ğŸ”‘ Login
                    </a>
                    <a href="{% url 'signup' %}" style="text-decoration: none; color: white; padding: 8px 15px; background: #4facfe; border-radius: 20px; transition: all 0.3s ease;">
                        ğŸš€ Sign Up
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
</nav>

<script>
    // Simple dropdown functionality
    document.addEventListener('DOMContentLoaded', function() {
        const userMenuButton = document.querySelector('button');
        const userDropdown = document.querySelector('div[style*="position: absolute"]');
        
        if (userMenuButton && userDropdown) {
            userMenuButton.addEventListener('click', function() {
                const isVisible = userDropdown.style.display === 'block';
                userDropdown.style.display = isVisible ? 'none' : 'block';
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                if (!userMenuButton.contains(event.target) && !userDropdown.contains(event.target)) {
                    userDropdown.style.display = 'none';
                }
            });
        }
    });
</script>